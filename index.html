<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="collective subroutines and other procedures designed to emulate or extend standard language features.">
    
    <meta name="author" content="Damian Rouson" >
    <link rel="icon" href="./favicon.png">

    <title>  </title>

    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/pygments.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/local.css" rel="stylesheet">
    
    <link  href="./tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="./js/jquery-2.1.3.min.js"></script>
    <script src="./js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./index.html"> </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="./lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="./lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="./lists/procedures.html">Procedures</a></li>
        
               
               
        
        
            </ul>
        
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="./lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="./lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="./lists/procedures.html">Procedures</a></li>

                             



          </ul>
        
        <form action="./search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
        <p>collective subroutines and other procedures designed to emulate or extend standard language features.</p>
        	 
	<p> Find us on&hellip;</p>
        <p>
			 
          <a class="btn btn-lg btn-primary" href="https://github.com/sourceryinstitute/sourcery
https://github.com/sourceryinstitute/sourcery" role="button">GitHub</a>
			 
			 
			 
			 
			 
	         
			 
          <a class="btn btn-lg btn-danger" style="float:right" href="https://github.com/sourceryinstitute/sourcery/releases" role="button">Download the Source</a>
			 
        </p>
      </div>

      <div class="row" id='text'>
		  
        <div class="col-md-8">
		  
          <h1></h1>
          <h1 id="emulators">Emulators</h1>
<h2 id="motivation-and-usage">Motivation and Usage</h2>
<p>Are you hoping for a world with full compiler support for recent Fortran
standards?  Emulating an unsupported feature facilitates using the feature prior
to compiler support.  This path offers minimal impact on future code. Switching
to the compiler's version of a feature might involve little more than toggling a
preprocessor macro:</p>
<div class="codehilite"><pre><span></span><span class="cp">#ifdef EMULATE_COLLECTIVES</span>
  <span class="k">use </span><span class="n">collectives_m</span><span class="p">,</span> <span class="n">only</span> <span class="p">:</span> <span class="n">co_sum</span>
<span class="cp">#endif</span>
</pre></div>

<p>and then not passing the macro at <code>EMULATE_COLLECTIVES</code> to the compiler to
turn eliminate the emulated version of <code>co_sum</code> from the source code before
compiling.</p>
<p>Emulators contains a few emulated procedures and preprocessor macros that
trigger their compilation.  We make no attempt at comprehensiveness. 
We support only the procedures, arguments, and argument types, kinds, 
and ranks that we have found useful in our own work.  We welcome pull 
requests that expand Emulators's emulators in number or capability.</p>
<h2 id="contents">Contents</h2>
<p>Emulated features:
* Fortran 2008 intrinsic function: <code>findloc</code>
* Fortran 2018 collective subroutines: <code>co_sum</code>, <code>co_broadcast</code></p>
<p>Those who find the collective subroutines useful might also be interested
in language extensions such as the <a href="https://github.com/sourceryinstitute/sourcery">Sourcery</a> library's <code>co_all</code> subroutine,
which provides a parallel, collective <code>logical</code> operation analogous to the
<code>all</code> intrinsic function.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Emulators builds with a Fortran compiler that supports the following features:</p>
<ul>
<li><strong>Error stop</strong></li>
<li>
<p>Emulators's only dependency, <a href="https://github.com/sourceryinstitute/assert">Assert</a>, uses Fortran 2018 <code>error stop</code>,
     which several compilers have supported before supporting the features
     that Emulators emulates.  Please submit an <a href="https://github.com/sourceryinstitute/hope/issues">issue</a> or <a href="https://github.com/sourceryinstitute/hope/pulls">pull request</a>
     if you prefer to have the option to build without Assert.</p>
</li>
<li>
<p><strong>Coarrays and synchronization</strong></p>
</li>
<li>Emulators's Fortran 2018 collective-subroutine emulators use Fortran 2008
     coarrays and synchronization.</li>
</ul>
<h2 id="downloading-building-and-testing">Downloading, building and testing</h2>
<h3 id="parallel-execution">Parallel execution</h3>
<p>With <code>gfortran</code> and OpenCoarrays installed, execute the following commands in
a <code>bash</code>-like shell to include all emulators in the build:</p>
<div class="codehilite"><pre><span></span>git clone git@github.com:sourceryinstitute/emulators
fpm test \
  --runner cafrun -n 2 \
  --compiler caf \
  --flag &quot;-cpp -DEMULATE_INTRINSICS -DEMULATE_COLLECTIVES&quot;
</pre></div>

<h3 id="serial-execution">Serial execution</h3>
<p>With <code>gfortran</code> installed, execute the following commands in
a <code>bash</code>-like shell to include all emulators in the build:</p>
<div class="codehilite"><pre><span></span>git clone git@github.com:sourceryinstitute/emulators
fpm test --flag &quot;-cpp -DEMULATE_INTRINSICS -DEMULATE_COLLECTIVES -fcoarray=single&quot;
</pre></div>
        </div>
		  
        <div class="col-md-4">
	  <div class="well">
          <h2>Developer Info</h2>
          <h4>Damian Rouson</h4>
          
          
			   
            <div class="text-center"><div class="btn-group" role="group">
              
              
              
              <a class="btn btn-lg btn-primary" href="https://github.com/sourceryinstitute"><i class="fa fa-github fa-lg"></i></a>
              
              
				  
              
              
              
              
            </div></div>
            
       </div>
       </div>
       
      </div>
      
      
      
      
      
      
		
        
      <div class="row">
        
        <div class="col-xs-6 col-sm-4">
              <h3>Source Files</h3>
              <ul>
                    <li><a href='./sourcefile/collectives_m.f90.html'>collectives_m.F90</a></li>
                  
                    <li><a href='./sourcefile/collectives_s.f90.html'>collectives_s.F90</a></li>
                  
                    <li><a href='./sourcefile/intrinsics_m.f90.html'>intrinsics_m.F90</a></li>
                  
                    <li><a href='./sourcefile/intrinsics_s.f90.html'>intrinsics_s.F90</a></li>
                  </ul>
          </div>
        
          
		  <div class="col-xs-6 col-sm-4">
              <h3>Modules</h3>
              <ul>
                    <li><a href='./module/collectives_m.html'>collectives_m</a></li>
                  
                    <li><a href='./module/intrinsics_m.html'>intrinsics_m</a></li>
                  </ul>
          </div>
          
          
		  <div class="col-xs-6 col-sm-4">
              <h3>Procedures</h3>
              <ul>
                    <li><a href='./interface/ensure_non_empty_collectives_m.html'>ensure_non_empty_collectives_m</a></li>
                  
                    <li><a href='./interface/ensure_non_empty_instrinsic_m.html'>ensure_non_empty_instrinsic_m</a></li>
                  </ul>
          </div>
          
          
      </div>
      

    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-6"><p> was developed by Damian Rouson<br>&copy; 2021 
                                          </p>
        </div>
        <div class="col-xs-6 col-md-6">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
             on 2021-09-21 19:28  
            
          </p>
        </div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="./js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="./tipuesearch/tipuesearch_content.js"></script>
    <script src="./tipuesearch/tipuesearch_set.js"></script>
    <script src="./tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>